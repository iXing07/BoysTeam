<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div style="width: 200px;margin: 30px auto;">
    <input type="checkbox" id="all" onclick="checkAll(this)">全选
    <input type="checkbox" id="revser" onclick="clickChooseReverse(this)">
    <hr>
    <input type="checkbox" name="goods" onclick="checkGoods(this)">商品1<br>
    <input type="checkbox" name="goods" onclick="checkGoods(this)">商品1<br>
    <input type="checkbox" name="goods" onclick="checkGoods(this)">商品1<br>
    <input type="checkbox" name="goods" onclick="checkGoods(this)">商品1<br>
  </div>
</body>
<script>
    var arr = document.getElementsByName('goods')
  // 第一步，首先实现基本功能 判断当全选框选中的时候  所有goods商品都选中，全选框取消选中的时候，goods都不选中
  function checkAll(obj) {
  
    for (var i = 0; i < arr.length; i++) {
      if (obj.checked) {
        arr[i].checked = true;
      } else {
        arr[i].checked = false
      }
    }
  }
// 第二步，下面再写通过操作goods来带动全选框的属性
// 第一种情况，当有goods取消选中  则带动全选框取消选中
function checkGoods(obj){
 var all = document.getElementById('all')
 var f = true;
 if(obj.checked){
   for(var i  = 0; i< arr.length; i++){
     if(!arr[i].checked){
       f = false;
       break;
     }
   }
 }else{
     f = false;
   }
   all.checked = f;
}


function clickChooseReverse(obj) {  
            for (var i = 0; i < arr.length; i++) {  
                if (obj.checked) {  
                    arr[i].checked = "";  
                } else {  
                    arr[i].checked = "checked";  
                }  
            }  
        }  

        // clickChooseReverse()
// 第二种情况,当有goods选中，需要判断是否所有都选中，满足两个if判断时 全选框才选中
</script>

</html>